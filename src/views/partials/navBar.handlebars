<header class="bg-white shadow-sm dark:bg-gray-950">
  <div
    class="container mx-auto px-4 md:px-6 flex items-center justify-between h-16"
  >
    <a class="flex items-center gap-2" href="/products">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="h-6 w-6"
      >
        <path d="m8 3 4 8 5-5 5 15H2L8 3z"></path>
      </svg>
      <span class="font-semibold text-lg">LDM Store</span>
    </a>
    <nav class="hidden md:flex items-center gap-6">
      <a
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
        href="/products"
      >
        Home
      </a>
      <li
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50 categoryDropdown"
        href=""
      >Categories â–¾
        <ul class="navCategories">
          <li><a
              class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
              href=""
            >Category 1</a></li>
          <li><a
              class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
              href=""
            >Category 2</a></li>
          <li><a
              class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
              href=""
            >Category 3</a></li>
          <li><a
              class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
              href=""
            >Category 4</a></li>
          <li><a
              class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
              href=""
            >Category 5</a></li>
          <li><a
              class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
              href=""
            >Category 6</a></li>
        </ul></li>
      <a
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
        href="#"
      >
        About
      </a>
      <a
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50"
        href="#"
      >
        Contact
      </a>
    </nav>
    <div class="flex items-center gap-4">
      <div class="relative ml-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="absolute left-2 top-1/4 text-gray-500 dark:text-gray-400"
        >
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.3-4.3"></path>
        </svg>
        <input
          class="flex h-8 border border-input px-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 bg-gray-100 dark:bg-gray-800 pl-8 pr-4 py-1.5 rounded-md w-56 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:focus:ring-primary dark:focus:border-primary"
          placeholder="Search products..."
          type="search"
          spellcheck="false"
          data-ms-editor="true"
        />
      </div>
      <button
        class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="h-6 w-6"
        >
          <circle cx="8" cy="21" r="1"></circle>
          <circle cx="19" cy="21" r="1"></circle>
          <path
            d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"
          ></path>
        </svg>
        <span class="sr-only">Cart</span>
      </button>
      <button
        class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="h-6 w-6 text-gray-500 dark:text-gray-400"
        >
          <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
        </svg>
        <span class="sr-only">Toggle dark mode</span>
      </button>
      {{! Profile dropdown }}
      <div>
        <div id="profileNavContainer" class="relative">
          <button
            class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full md-hidden"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="h-6 w-6"
            >
              <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span class="sr-only">Toggle profile menu</span>
          </button>

          <div
            id="profileDataNav"
            class="absolute right-0 mt-2 w-64 bg-white dark:bg-gray-900 rounded-md shadow-lg z-10 hidden"
          >
            <div
              class="flex flex-col items-center border-b dark:border-gray-800"
            >
              {{#if last_name}}
                <div class="flex flex-row items-center justify-center">
                  <span
                    class="relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full mr-4"
                  >
                    <img
                      class="aspect-square h-full w-full modal-trigger"
                      src="{{fullImageUrl}}"
                    />
                  </span>

                  <div>
                    <h2
                      class="text-lg font-bold text-gray-900 dark:text-gray-50"
                    >{{last_name}}, {{first_name}}</h2>
                    <p class="text-gray-500 dark:text-gray-400">{{role}}</p>
                  </div>
                </div>
                <div class="p-4 grid w-full">
                  <div>
                    <p class="text-gray-500 dark:text-gray-400">Email</p>
                    <p class="text-gray-900 dark:text-gray-50">{{email}}</p>
                  </div>
                  <div>
                    <p class="text-gray-500 dark:text-gray-400">Age</p>
                    <p class="text-gray-900 dark:text-gray-50">{{age}}</p>
                  </div>
                  <a
                    class="bg-black text-gray-50 hover:bg-primary-600 focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:bg-primary-400 dark:text-gray-900 dark:hover:bg-primary-500 rounded-md px-4 py-2 font-medium text-center"
                    href="/edit"
                  >Edit Profile</a>
                  <form
                    class="formButton"
                    id="form-logout"
                    action="/api/sessions/current"
                    method="DELETE"
                  >
                    <button
                      class="redButton text-gray-50 hover:bg-primary-600 focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:bg-primary-400 dark:text-gray-900 dark:hover:bg-primary-500 rounded-md px-4 py-2 font-medium text-center mt-2"
                      type="submit"
                    >Log out

                    </button>
                  </form>
                </div>
              {{else}}
                <a href="/login"><button
                    class="bg-black text-gray-50 hover:bg-primary-600 focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:bg-primary-400 dark:text-gray-900 dark:hover:bg-primary-500 rounded-md px-4 py-2 font-medium text-center"
                  >Login</button>
                </a>
              {{/if}}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<script src="/js/profile.js"></script>

{{!-- <nav>
  <a href="/products" class="logo"><h1>PC Market</h1></a>
  <ul id="navList">
    <li class="navListItem"><a href="/register">Register</a></li>
    <li class="navListItem"><a href="/login">Login</a></li>
    <li class="navListItem"><a href="/profile">Profile</a></li>
    <li class="navListItem"><a href="/products">Products</a></li>
    <span><li class="navListItem cartNav"><a id="cart" href="/cart">Cart
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fas"
            data-icon="cart-shopping"
            class="svg-inline--fa fa-cart-shopping"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 576 512"
            id="cartIcon"
          ><path
              fill="currentColor"
              d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"
            ></path></svg><span
            class="fa-solid"
            id="cartQuantity"
          >{{cartQuantity}}</span></a></li></span>
  </ul>
</nav> --}}